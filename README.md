# GPEW Policy Website

A simple, accessible, and maintainable site for sharing Green Party policy content, motions to conference, key dates, and working group info.

## üå± Tech Stack

- [Next.js 14+ (App Router)](https://nextjs.org/)
- [Tailwind CSS](https://tailwindcss.com/)
- [MDX (native)](https://mdxjs.com/)
- [Bebas Neue](https://fonts.google.com/specimen/Bebas+Neue) and [Manrope](https://fonts.google.com/specimen/Manrope) fonts
- Accessible, AA contrast-compliant design (Green Party branding)
- [MDX](https://mdxjs.com/) (for policy content)
- [pnpm](https://pnpm.io/)
- [Jest + React Testing Library](https://testing-library.com/)
- [ESLint (flat config)](https://eslint.org/docs/latest/use/configure/configuration-files-new)
- [Prettier](https://prettier.io/) (optional, coming soon)
- [Husky + lint-staged](https://typicode.github.io/husky/) (optional, coming soon)

---

## üìÅ Project Structure

src/ app/ layout.tsx globals.css policies/ page.tsx # List of all motions [slug]/ page.tsx # Renders individual MDX content data/ example-policy.mdx # Sample motion content example-policy.mdx.d.ts # Autogenerated types components/ Header.tsx Footer.tsx MDXRenderer.tsx types/ mdx.d.ts # Generic fallback for MDX scripts/ generate-mdx-types.ts # Script to generate .d.ts files per .mdx

---

## üß™ Commands

```
pnpm dev                 # Run local dev server
pnpm build               # Build for production
pnpm lint                # Run ESLint
pnpm lint:fix            # Fix lint issues automatically
pnpm test                # Run tests (Jest + React Testing Library)
pnpm generate:mdx-types  # Create .d.ts files for each .mdx import
```

## üì¶ MDX Type Generation

When you add a new .mdx file to `src/app/policies/data/`, you need to create a matching `.d.ts` file so TypeScript understands the import.

Run:

`pnpm run generate:mdx-types`

This uses the scripts/generate-mdx-types.ts script to automatically generate declarations like:

```
declare module './example-policy.mdx' {
  const Component: (props: Record<string, unknown>) => JSX.Element;
  export default Component;
}
```

---

### ‚ú® In Progress / Planned

- Prettier integration (formatting)
- Tailwind-specific linting rules
- Husky + lint-staged for pre-commit checks
- MDX metadata parsing (title, summary)
- Dynamic MDX index generation
- Optional custom domain for deployment (e.g. via Vercel)
